Esercizio 1 (Appello Giugno 2024)
Un laboratorio medico vuole sviluppare un software per monitorare lâ€™andamento della glicemia di un
insieme di pazienti diabetici. I dati di ogni paziente sono salvati su un file di testo il cui formato Ã¨
predefinito. Il nome del file Ã¨ PazienteX.txt, ove X Ã¨ un numero intero che identifica un determinato
paziente. Per ogni paziente nel file sono salvati i seguenti dati (nella prima riga): il peso del paziente
espresso in kg (un numero reale), la sua etÃ  espressa in anni (un numero intero). Vi Ã¨ poi specificata una
matrice glicemia di numeri interi contenente 12 righe e 31 colonne. Le righe della matrice corrispondono
ai mesi dellâ€™anno, ciascuna colonna corrisponde alla misura della glicemia misurata quotidianamente sul
paziente.
Nota: Si supponga, per semplicitÃ , che ogni mese sia composto sempre da 31 giorni e che non ci siano
errori nel formato del file.
Si scriva un programma C++ che:
ï‚· Prenda come argomenti:
a) un nome di un file che contiene i dati di un paziente secondo la specifica precedente;
b) un intero n che rappresenta il mese che si vuole analizzare;
c) un intero ipo che rappresenta il valore di glicemia sotto il quale si verifica un caso di
ipoglicemia;
d) un intero iper che rappresenta il valore di glicemia sopra il quale si verifica un caso di
iperglicemia.
ï‚· Controlli che il numero di parametri passati sia esattamente 4 e segnali errore nel caso contrario
(si veda esempio). Inoltre, controlli che:
a) i valori di ipo e iper siano tali che ipo â‰¤ iper, e che siano rispettivamente compresi nel
range [80, 95] e [105, 120];
b) il mese sia compreso tra [1,12].
Segnali errore nel caso di violazioni ed esca (si vedano esempi).
Nota: Lâ€™output deve essere esattamente come quello riportato negli esempi.
ï‚· Apra il file specificato contenente i dati del paziente e, nel caso il file non esista, ritorni un
messaggio di errore e termini il programma.
ï‚· Legga e memorizzi i dati del paziente in una struttura Paziente avente come campi il peso
del paziente espresso in kg (un numero reale), la sua etÃ  espressa in anni (un numero intero)
e una matrice glicemia di numeri interi contenente 12 righe e 31 colonne.
ï‚· Invochi una funzione Monitora che riceva in ingresso (ovvero come parametro) una struttura
Paziente, un numero intero n che indica il mese, e due numeri interi ipo e iper, indicanti
rispettivamente il valore di glicemia sotto il quale si verifica un caso di ipoglicemia e il valore di
glicemia sopra il quale si verifica un caso di iperglicemia.
La funzione restituirÃ :
a) un intero che segnala il numero di giorni durante il mese n per cui il valore di glicemia Ã¨
maggiore di iper;
b) il numero di giorni durante il mese n per cui il valore di glicemia Ã© minore di ipo. Tale
valore sarÃ  ritornato tramite il meccanismo di passaggio di parametri per riferimento;
c) il valore medio della glicemia durante il mese n. Tale valore sarÃ  ritornato tramite il
meccanismo di passaggio di parametri per riferimento;
d) la varianza ðœŽ
2
. Tale valore sarÃ  ritornato tramite il meccanismo di passaggio di parametri
per riferimento. Si ricorda che la deviazione standard Ïƒ per un insieme di valori ð‘¥1, â€¦ ,
ð‘¥ð‘› Ã¨ definita come:
Ïƒ =âˆš
âˆ‘ ð‘¥ð‘–
2 âˆ’ ð‘.ð‘¥Ì…
ð‘ 2
ð‘–=1
ð‘
 dove ð‘¥Ì…Ã¨ il valore medio di ð‘¥1, â€¦ , ð‘¥ð‘›
ï‚· Stampi a video tutti e 4 i valori calcolati al punto precedente (La stampa NON deve avvenire
allâ€™interno della funzione Monitora).
Nota: Lâ€™output deve essere esattamente come quello riportato negli esempi (tranne per la parte
numerica che ovviamente puÃ² variare rispetto ai parametri passati).
Esempi
gv > ./a.out Paziente1.txt 3 91 111
Il numero di giorni di iperglicemia eâ€™: 4
il numero di giorni di ipoglicemia eâ€™: 14
la media eâ€™: 90.6452
la varianza eâ€™: 283.003
gv > ./a.out Paziente1.txt 3 74 126
I valori di ipoglicemia e iperglicemia non sono corretti. Errore!
gv > ./a.out Paziente1.txt 3 96 104
I valori di ipoglicemia e iperglicemia non sono corretti. Errore!
gv > ./a.out Paziente1.txt 3 126 125
I valori di ipoglicemia e iperglicemia non sono corretti. Errore!
gv > ./a.out Paziente1.txt 13 126 125
I valori di ipoglicemia e iperglicemia non sono corretti. Errore!
gv > ./a.out Paziente1.txt 13 74 126
I valori di ipoglicemia e iperglicemia non sono corretti. Errore!
gv > ./a.out Paziente1.txt 74 126
Il numero di parametri eâ€™ diverso da 4. Errore!
gv > ./a.out Paziente10.txt 3 91 111
Il file non esiste. Errore!